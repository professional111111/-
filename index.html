<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©</title>
    <style>
        :root {
            --neon-purple: #bc13fe;
            --neon-blue: #08f7fe;
            --correct: #39ff14;
            --wrong: #ff3131;
            --bg: #0d0221;
        }
        * { box-sizing: border-box; }
        body {
            background-color: var(--bg);
            color: white;
            font-family: 'Segoe UI', Tahoma, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .card {
            background: rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 20px;
            border: 2px solid var(--neon-purple);
            box-shadow: 0 0 15px var(--neon-purple);
            width: 100%;
            max-width: 600px;
            text-align: center;
        }
        .btn {
            background: transparent;
            color: white;
            border: 2px solid var(--neon-blue);
            padding: 15px;
            margin: 8px 0;
            width: 100%;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: 0.2s;
            box-shadow: inset 0 0 5px var(--neon-blue);
        }
        .btn:hover { box-shadow: 0 0 15px var(--neon-blue); }
        .hidden { display: none !important; }
        .correct-glow { 
            border-color: var(--correct) !important; 
            box-shadow: 0 0 30px var(--correct) !important; 
            background: rgba(57, 255, 20, 0.2) !important; 
        }
        .wrong-glow { 
            border-color: var(--wrong) !important; 
            box-shadow: 0 0 30px var(--wrong) !important; 
            background: rgba(255, 49, 49, 0.2) !important; 
        }
        .report-item {
            text-align: right;
            background: rgba(255,255,255,0.1);
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 10px;
            border-right: 5px solid var(--wrong);
        }
        #motivation { font-weight: bold; color: var(--neon-blue); margin-top: 15px; font-size: 1.2rem; }
    </style>
</head>
<body>

    <div class="card" id="main-view">
        <h1>Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©</h1>
        <button class="btn" onclick="startTest('iq')">Ø¨Ø¯Ø¡ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø°ÙƒØ§Ø¡ (IQ)</button>
        <button class="btn" onclick="startTest('pers')">Ø¨Ø¯Ø¡ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø´Ø®ØµÙŠØ©</button>
    </div>

    <div class="card hidden" id="quiz-view">
        <h2 id="question-text"></h2>
        <div id="options-container"></div>
        <p style="color: var(--neon-blue);">Ø§Ù„Ø³Ø¤Ø§Ù„ <span id="q-num">1</span> Ù…Ù† 10</p>
    </div>

    <div class="card hidden" id="result-view">
        <h2 id="result-title-text">Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</h2>
        <h1 id="score-percent" style="font-size: 3rem; color: var(--correct);"></h1>
        <div id="motivation"></div>
        <div id="report-container" style="margin-top: 20px;"></div>
        <button id="back-btn" class="btn" onclick="forceBackToHome(this)" style="border-color: var(--neon-purple);">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    </div>

    <script>
        const questionsBank = {
            iq: [
                { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù…ÙƒÙ…Ù„: 2ØŒ 4ØŒ 8ØŒ 16ØŒ ...ØŸ", options: ["20", "24", "32"], correct: 2 },
                { q: "Ø£ÙŠ ÙƒÙ„Ù…Ø© Ù‡ÙŠ Ø§Ù„ØºØ±ÙŠØ¨Ø©: ØªÙØ§Ø­ØŒ Ø¨Ø±ØªÙ‚Ø§Ù„ØŒ Ø¬Ø²Ø±ØŒ Ø¹Ù†Ø¨ØŸ", options: ["Ø¬Ø²Ø±", "Ø¹Ù†Ø¨", "Ø¨Ø±ØªÙ‚Ø§Ù„"], correct: 0 },
                { q: "Ø¥Ø°Ø§ ÙƒØ§Ù† Ø¹Ù…Ø± Ø£Ø­Ù…Ø¯ 10 Ø³Ù†ÙˆØ§Øª ÙˆØ£Ø®ØªÙ‡ Ù†ØµÙ Ø¹Ù…Ø±Ù‡ØŒ ÙÙƒÙ… Ø¹Ù…Ø±Ù‡Ø§ Ø¨Ø¹Ø¯ 10 Ø³Ù†ÙˆØ§ØªØŸ", options: ["15", "20", "25"], correct: 0 },
                { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ§Ù„ÙŠ: 1ØŒ 1ØŒ 2ØŒ 3ØŒ 5ØŒ ...ØŸ", options: ["7", "8", "10"], correct: 1 },
                { q: "Ø£ÙˆØ¬Ø¯ Ø§Ù„Ù†Ø§ØªØ¬: 10 + 10 Ã— 0ØŸ", options: ["0", "10", "20"], correct: 1 },
                { q: "Ø£ÙŠ Ø§Ù„Ø£Ø´ÙƒØ§Ù„ ÙŠÙƒÙ…Ù„ Ø§Ù„Ù†Ù…Ø·: Ø¯Ø§Ø¦Ø±Ø©ØŒ Ù…Ø±Ø¨Ø¹ØŒ Ø¯Ø§Ø¦Ø±Ø©ØŒ ...ØŸ", options: ["Ù…Ø±Ø¨Ø¹", "Ù…Ø«Ù„Ø«", "Ù…Ø³ØªØ·ÙŠÙ„"], correct: 0 },
                { q: "Ø®Ù…Ø³Ø© Ø¹Ù…Ø§Ù„ ÙŠØ¨Ù†ÙˆÙ† Ø³ÙˆØ±Ø§Ù‹ ÙÙŠ 5 Ø£ÙŠØ§Ù…ØŒ ÙƒÙ… ÙŠÙˆÙ…Ø§Ù‹ ÙŠØ­ØªØ§Ø¬ Ø¹Ø§Ù…Ù„ ÙˆØ§Ø­Ø¯ØŸ", options: ["5 Ø£ÙŠØ§Ù…", "10 Ø£ÙŠØ§Ù…", "25 ÙŠÙˆÙ…Ø§Ù‹"], correct: 2 },
                { q: "Ø£ÙƒÙ…Ù„ Ø§Ù„Ø³Ù„Ø³Ù„Ø©: Ø£ØŒ ØªØŒ Ø¬ØŒ ...ØŸ", options: ["Ø­", "Ø®", "Ø¯"], correct: 0 },
                { q: "Ø£ÙŠ Ø´Ù‡Ø± Ù„Ù‡ 28 ÙŠÙˆÙ…Ø§Ù‹ØŸ", options: ["ÙØ¨Ø±Ø§ÙŠØ± ÙÙ‚Ø·", "ÙƒÙ„ Ø§Ù„Ø´Ù‡ÙˆØ±", "Ø£ØºØ³Ø·Ø³"], correct: 1 },
                { q: "Ø·Ø§Ø¦Ø±Ø© Ø³Ù‚Ø·Øª Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¯ÙˆØ¯ØŒ Ø£ÙŠÙ† ÙŠØ¯ÙÙ† Ø§Ù„Ù†Ø§Ø¬ÙˆÙ†ØŸ", options: ["ÙÙŠ Ø¨Ù„Ø¯Ù‡Ù…", "Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¯ÙˆØ¯", "Ù„Ø§ ÙŠØ¯ÙÙ†ÙˆÙ†"], correct: 2 }
            ],
            pers: [
                { q: "Ù‡Ù„ ØªØ­Ø¨ Ø§Ù„Ø¹Ù…Ù„ Ø¶Ù…Ù† ÙØ±ÙŠÙ‚ØŸ", options: ["Ù†Ø¹Ù… Ø¯Ø§Ø¦Ù…Ø§Ù‹", "Ø£Ø­ÙŠØ§Ù†Ø§Ù‹", "Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ù…Ù„ ÙˆØ­Ø¯ÙŠ"] },
                { q: "ÙƒÙŠÙ ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¶ØºØ·ØŸ", options: ["Ø¨Ù‡Ø¯ÙˆØ¡", "Ø¨ØªÙˆØªØ±", "Ø£ØªØ¬Ø§Ù‡Ù„Ù‡"] },
                { q: "Ù‡Ù„ ØªØ®Ø·Ø· Ù„ÙŠÙˆÙ…Ùƒ Ù…Ø³Ø¨Ù‚Ø§Ù‹ØŸ", options: ["Ù†Ø¹Ù… Ø¨Ø¯Ù‚Ø©", "Ø£Ø­ÙŠØ§Ù†Ø§Ù‹", "Ù„Ø§ Ø£Ø¨Ø¯Ø§Ù‹"] },
                { q: "Ø¥Ø°Ø§ Ø£Ø®Ø·Ø£ Ø´Ø®Øµ ÙÙŠ Ø­Ù‚Ùƒ:", options: ["Ø£Ø³Ø§Ù…Ø­Ù‡", "Ø£Ø¹Ø§ØªØ¨Ù‡", "Ø£Ù‚Ø§Ø·Ø¹Ù‡"] },
                { q: "Ù‡Ù„ ØªØ­Ø¨ Ø§Ù„Ù…ØºØ§Ù…Ø±Ø©ØŸ", options: ["Ù†Ø¹Ù… Ø¬Ø¯Ø§Ù‹", "Ø¨Ø­Ø¯ÙˆØ¯", "Ù„Ø§ Ø£ÙØ¶Ù„Ù‡Ø§"] },
                { q: "Ø¹Ù†Ø¯ Ø§ØªØ®Ø§Ø° Ù‚Ø±Ø§Ø± Ù…Ù‡Ù…:", options: ["Ø£ÙÙƒØ± Ø¨Ø¹Ù‚Ù„ÙŠ", "Ø£ØªØ¨Ø¹ Ù‚Ù„Ø¨ÙŠ", "Ø£Ø³ØªØ´ÙŠØ± ØºÙŠØ±ÙŠ"] },
                { q: "Ù‡Ù„ ØªÙ„ØªØ²Ù… Ø¨Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ØŸ", options: ["Ø¯Ø§Ø¦Ù…Ø§Ù‹", "ØºØ§Ù„Ø¨Ø§Ù‹", "Ù†Ø§Ø¯Ø±Ø§Ù‹"] },
                { q: "ÙƒÙŠÙ ØªØ±Ù‰ Ø§Ù„ÙØ´Ù„ØŸ", options: ["Ø¯Ø±Ø³ Ù„Ù„ØªØ¹Ù„Ù…", "Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø·Ø±ÙŠÙ‚", "Ø¥Ø­Ø±Ø§Ø¬"] },
                { q: "Ù‡Ù„ Ø£Ù†Øª Ø´Ø®Øµ Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØŸ", options: ["Ø¬Ø¯Ø§Ù‹", "Ù…ØªÙˆØ³Ø·", "Ù…Ù†Ø·ÙˆÙŠ"] },
                { q: "Ù‡Ù„ ØªØ«Ù‚ ÙÙŠ Ø­Ø¯Ø³ÙƒØŸ", options: ["Ù†Ø¹Ù…", "Ø£Ø­ÙŠØ§Ù†Ø§Ù‹", "Ù„Ø§"] }
            ]
        };

        let currentType = "", currentIdx = 0, score = 0, wrongAnswers = [];

        function startTest(type) {
            currentType = type; currentIdx = 0; score = 0; wrongAnswers = [];
            document.getElementById('main-view').classList.add('hidden');
            document.getElementById('result-view').classList.add('hidden');
            document.getElementById('quiz-view').classList.remove('hidden');
            loadQuestion();
        }

        function loadQuestion() {
            let qData = questionsBank[currentType][currentIdx];
            document.getElementById('question-text').innerText = qData.q;
            document.getElementById('q-num').innerText = currentIdx + 1;
            let optionsDiv = document.getElementById('options-container');
            optionsDiv.innerHTML = "";
            qData.options.forEach((opt, index) => {
                let btn = document.createElement('button');
                btn.className = 'btn';
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(index, btn);
                optionsDiv.appendChild(btn);
            });
        }

        function checkAnswer(choice, btn) {
            let qData = questionsBank[currentType][currentIdx];
            const allBtns = document.querySelectorAll('#options-container .btn');
            allBtns.forEach(b => b.style.pointerEvents = 'none');

            if (currentType === 'iq') {
                if (choice === qData.correct) {
                    btn.classList.add('correct-glow');
                    score++;
                } else {
                    btn.classList.add('wrong-glow');
                    wrongAnswers.push({ q: qData.q, correct: qData.options[qData.correct] });
                }
            } else {
                // ÙÙŠ Ø§Ù„Ø´Ø®ØµÙŠØ© ÙƒÙ„Ù‡ Ø¨ÙŠÙ†ÙˆØ± Ø£Ø®Ø¶Ø±
                btn.classList.add('correct-glow');
            }

            setTimeout(() => {
                currentIdx++;
                if (currentIdx < 10) loadQuestion(); else showFinalResults();
            }, 600);
        }

        function showFinalResults() {
            document.getElementById('quiz-view').classList.add('hidden');
            document.getElementById('result-view').classList.remove('hidden');
            let scoreDisplay = document.getElementById('score-percent');
            let motivationDisplay = document.getElementById('motivation');
            let reportContainer = document.getElementById('report-container');
            
            reportContainer.innerHTML = ""; // ØªØµÙÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ±

            if (currentType === 'iq') {
                let percent = (score / 10) * 100;
                scoreDisplay.innerText = percent + "%";
                
                if (percent >= 80) motivationDisplay.innerText = "Ø£Ù†Øª Ø¹Ø¨Ù‚Ø±ÙŠ Ø­Ù‚ÙŠÙ‚ÙŠ! Ø§Ø³ØªÙ…Ø± ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ ğŸŒŸ";
                else if (percent >= 50) motivationDisplay.innerText = "Ø£Ø¯Ø§Ø¡ Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹ØŒ Ù„Ø¯ÙŠÙƒ Ù‚Ø¯Ø±Ø§Øª Ù…Ù…ÙŠØ²Ø© Ø·ÙˆØ±Ù‡Ø§ Ø£ÙƒØ«Ø± ğŸ’ª";
                else motivationDisplay.innerText = "Ù„Ø§ ØªÙ‚Ù„Ù‚ØŒ ÙƒÙ„ ØªØ¬Ø±Ø¨Ø© Ù‡ÙŠ Ø¨Ø¯Ø§ÙŠØ© Ù„Ø°ÙƒØ§Ø¡ Ø£Ø¹Ø¸Ù…. Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹! ğŸš€";

                if (wrongAnswers.length > 0) {
                    let reportHtml = "<h3>Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©:</h3>";
                    wrongAnswers.forEach(item => {
                        reportHtml += `<div class="report-item">â“ ${item.q}<br><span style="color:var(--correct)">âœ… Ø§Ù„Ø­Ù„ Ø§Ù„ØµØ­ÙŠØ­: ${item.correct}</span></div>`;
                    });
                    reportContainer.innerHTML = reportHtml;
                }
            } else {
                // Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø´Ø®ØµÙŠØ© Ø¨Ø¯ÙˆÙ† Ù†Ø³Ø¨Ø©
                scoreDisplay.innerText = "ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø´Ø®ØµÙŠØ©";
                motivationDisplay.innerText = "Ø£Ù†Øª Ø´Ø®ØµÙŠØ© ÙØ±ÙŠØ¯Ø© ØªÙ…ØªÙ„Ùƒ Ù…Ø²ÙŠØ¬Ø§Ù‹ Ù…Ù† Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø¹Ø§Ø·ÙÙŠ ÙˆØ§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§ØªØ®Ø§Ø° Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª. Ø£Ø³Ù„ÙˆØ¨Ùƒ ÙÙŠ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø­ÙŠØ§Ø© ÙŠØ¹ÙƒØ³ ØªÙˆØ§Ø²Ù†Ø§Ù‹ ÙƒØ¨ÙŠØ±Ø§Ù‹! âœ¨";
            }
        }

        function forceBackToHome(btn) {
            btn.classList.add('correct-glow');
            setTimeout(() => {
                document.getElementById('result-view').classList.add('hidden');
                document.getElementById('main-view').classList.remove('hidden');
                btn.classList.remove('correct-glow');
            }, 400);
        }
    </script>
</body>
</html>
